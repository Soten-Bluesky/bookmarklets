javascript:!window.TO_STICKY_NOTE&&((e,t)=>{"use strict";const o=t.createElement("style"),n='[data-__stikyNote-dragging__="true"],[data-__stikyNote-dragging__="true"] * {background:$$$draggingColor$$$;}',r=function(){let r=null;const l=/^(fixed|absolute|relative|sticky)$/;(()=>{const e=["onclick","ondbclic","onmousedown","onmouseenter","onmouselmave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onchange","onkeydown","onkeyup","onkeypress"];t.body.querySelectorAll("script").forEach(e=>{e.remove()}),t.querySelectorAll(`[${e.join("], [")}]`).forEach(t=>{e.forEach(e=>{t.removeAttribute(e)})}),t.body.innerHTML=t.body.innerHTML,t.body.style.userSelect="none"})(),(()=>{const o=(()=>{let n=null,s=null,i=0;const a={x:0,y:0},u=e=>{"auto"===i&&(i=0),e?i=i<=0?0:--i:i++,r.textContent=`z-index: ${i}`,n.style.zIndex=i};let d=null;return{preventDefault:e=>{e.preventDefault()},mousedown:function(u){const c=e.getComputedStyle(this,null);d=new DOMMatrix(c.transform),a.x=u.clientX,a.y=u.clientY,i=c["z-index"],u.stopPropagation(),s&&(s.contentEditable=!1,s=null),u.metaKey||u.ctrlKey||u.altKey?(s=this).contentEditable=!0:(u.preventDefault(),"inline"===c.display&&(this.style.display="inline-block"),l.test(c.position)||(this.style.position="relative"),this.setAttribute("data-__stikyNote-dragging__","true"),r.textContent=`z-index: ${i}`,r.setAttribute("data-visible","true"),n=this,e.addEventListener("keydown",o.keydown),e.addEventListener("wheel",o.wheel),t.addEventListener("mouseup",o.mouseup),t.addEventListener("mousemove",o.mousemove))},mousemove:e=>{if(d.is2D){const{a:t,b:o,c:r,d:l,e:s,f:i}=d.translate(e.clientX-a.x,e.clientY-a.y);n.style.transform=`matrix(${t}, ${o}, ${r}, ${l}, ${s}, ${i})`}else{const{m11:t,m12:o,m13:r,m14:l,m21:s,m22:i,m23:u,m24:c,m31:m,m32:p,m33:y,m34:$,m41:g,m42:v,m43:w,m44:b}=d.translate(e.clientX-a.x,e.clientY-a.y,d.m43);n.style.transform=`matrix3D(${t}, ${o}, ${r}, ${l}, ${s}, ${i}, ${u}, ${c}, ${m}, ${p}, ${y}, ${$}, ${g}, ${v}, ${w}, ${b})`}},mouseup:()=>{n.setAttribute("data-__stikyNote-dragging__","false"),r.setAttribute("data-visible","false"),e.removeEventListener("keydown",o.keydown),e.removeEventListener("wheel",o.wheel),t.removeEventListener("mouseup",o.mouseup),t.removeEventListener("mousemove",o.mousemove)},wheel:e=>{e.preventDefault(),u(e.deltaY>0||e.wheelDelta<0)},keydown:e=>{e.preventDefault(),u("ArrowDown"===e.key)}}})(),n=t.querySelectorAll("body *:not(colgroup):not(col):not(noscript):not(link):not(script):not(style):not(template):not(tbody):not(dialog), dialog[open]"),s=n.length;let i=0,a=null;for(;i<s;i++)(a=n[i]).addEventListener("mousedown",o.mousedown),a.addEventListener("click",o.preventDefault)})(),(()=>{let e=n;e=e.replace("$$$draggingColor$$$","rgba(255,0,0,.1)"),o.textContent=e,t.head.append(o),r=(()=>{const e={host:t.createElement("stikynote-zindexviewer"),style:document.createElement("style"),viewer:t.createElement("viewer-value")};return e.style.textContent=':host {pointer-events:none;} :host viewer-value {position:fixed;right:0;bottom:0;padding:10px;font-size:16px;background:rgba(0,0,0,.8);z-index:999999;transition:.3s opacity ease-out;opacity:0;color:#fff;}:host viewer-value[data-visible="true"] {opacity:1;}',e.host.attachShadow({mode:"open"}),e.host.shadowRoot.append(e.viewer),e.host.shadowRoot.append(e.style),e.viewer.setAttribute("data-visible","false"),t.body.append(e.host),e.viewer})()})(),console.group("ToStickyNote 1.0.1 2018/12/22: How to use."),console.log("ドラッグ中にマウスホイールを動かすか、上下矢印キーを押下することで z-index プロパティを操作できます（最低値： 0）。"),console.log("Altキー、commandキーまたはCtrlキーを押下しながら要素をクリックすることで対象の要素のテキストを編集することができるようになります。"),console.log("次のコードを実行することで、ドラッグ中の要素の背景色が変更できます。"),console.table({"TO_STICKY_NOTE.colorRed()":"赤色（デフォルト）","TO_STICKY_NOTE.colorGreen()":"緑色","TO_STICKY_NOTE.colorBlue()":"青色"}),console.log("GitHub： https://github.com/Soten-Bluesky/bookmarklets/tree/master/tostickynote.js"),console.groupEnd()};(r.prototype=Object.create(null)).colorRed=function(){return o.textContent=n.replace("$$$draggingColor$$$","rgba(255,0,0,.1)"),"赤色になりました"},r.prototype.colorGreen=function(){return o.textContent=n.replace("$$$draggingColor$$$","rgba(0,255,0,.1)"),"緑色になりました"},r.prototype.colorBlue=function(){return o.textContent=n.replace("$$$draggingColor$$$","rgba(0,0,255,.1)"),"青色になりました"},e.TO_STICKY_NOTE=new r,e.TO_STICKY_NOTE})(window,document);